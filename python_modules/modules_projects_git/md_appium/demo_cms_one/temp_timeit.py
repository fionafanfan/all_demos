#!/usr/bin/env python
# -*- coding: utf-8 -*-
# @Author   : xianxiafan
# @Date     : 2024/1/9 17:25

# remote_server_remote_app = [14.894267, 6.917585999999999, 8.786173999999999]
# local_server_remote_app = [6.0230939999999995, 7.5148779999999995, 5.8289930000000005]
# remote_server_local_app = [10.436385999999999, 6.507933, 14.981025999999998]
# local_server_local_app = [13.412149000000001, 9.198347, 6.0133220000000005]
# local_server_local_app_wired = [13.260591, 10.755486, 4.364228000000001]
local_server_local_app_10 = {1: [('[end] [code] [find_element]', 0.091096), ('[end] [code] [click]', 0.10681), ('[end] [code] [clear]', 0.067883), ('[end] [code] [send_keys]', 0.736395), ('[end] [dir] [find_element]', 0.226627), ('[end] [dir] [tap]', 1.329073), ('[end] [price] [find_element]', 0.086703), ('[end] [price] [click]', 0.598214), ('[end] [price] [clear]', 0.218381), ('[end] [price] [send_keys]', 0.594164), ('[end] [amount] [find_element]', 0.082118), ('[end] [amount] [click]', 0.60958), ('[end] [amount] [clear]', 0.033182), ('[end] [amount] [send_keys]', 0.64941)], 2: [('[end] [code] [find_element]', 0.042555), ('[end] [code] [click]', 0.573962), ('[end] [code] [clear]', 0.0366), ('[end] [code] [send_keys]', 0.686066), ('[end] [dir] [find_element]', 0.139511), ('[end] [dir] [tap]', 1.385279), ('[end] [price] [find_element]', 0.041552), ('[end] [price] [click]', 0.562419), ('[end] [price] [clear]', 0.163726), ('[end] [price] [send_keys]', 0.613999), ('[end] [amount] [find_element]', 0.05774), ('[end] [amount] [click]', 0.678874), ('[end] [amount] [clear]', 0.030849), ('[end] [amount] [send_keys]', 0.048077)], 3: [('[end] [code] [find_element]', 0.592145), ('[end] [code] [click]', 0.091498), ('[end] [code] [clear]', 0.652615), ('[end] [code] [send_keys]', 0.078944), ('[end] [dir] [find_element]', 0.164344), ('[end] [dir] [tap]', 1.290899), ('[end] [price] [find_element]', 0.049883), ('[end] [price] [click]', 0.567437), ('[end] [price] [clear]', 0.161566), ('[end] [price] [send_keys]', 0.063007), ('[end] [amount] [find_element]', 0.618881), ('[end] [amount] [click]', 0.079785), ('[end] [amount] [clear]', 0.032518), ('[end] [amount] [send_keys]', 0.048638)], 4: [('[end] [code] [find_element]', 0.603743), ('[end] [code] [click]', 0.065704), ('[end] [code] [clear]', 0.656329), ('[end] [code] [send_keys]', 0.074058), ('[end] [dir] [find_element]', 0.1222), ('[end] [dir] [tap]', 1.357388), ('[end] [price] [find_element]', 0.03807), ('[end] [price] [click]', 0.571733), ('[end] [price] [clear]', 0.146482), ('[end] [price] [send_keys]', 0.053119), ('[end] [amount] [find_element]', 0.618771), ('[end] [amount] [click]', 0.087154), ('[end] [amount] [clear]', 0.032912), ('[end] [amount] [send_keys]', 0.623477)], 5: [('[end] [code] [find_element]', 0.039588), ('[end] [code] [click]', 0.56965), ('[end] [code] [clear]', 0.036377), ('[end] [code] [send_keys]', 0.659376), ('[end] [dir] [find_element]', 0.158499), ('[end] [dir] [tap]', 1.333145), ('[end] [price] [find_element]', 0.07437), ('[end] [price] [click]', 0.558296), ('[end] [price] [clear]', 0.159016), ('[end] [price] [send_keys]', 0.058034), ('[end] [amount] [find_element]', 0.621185), ('[end] [amount] [click]', 0.076044), ('[end] [amount] [clear]', 0.028866), ('[end] [amount] [send_keys]', 0.035795)], 6: [('[end] [code] [find_element]', 0.580564), ('[end] [code] [click]', 0.069157), ('[end] [code] [clear]', 0.652072), ('[end] [code] [send_keys]', 0.06507), ('[end] [dir] [find_element]', 0.121417), ('[end] [dir] [tap]', 1.573288), ('[end] [price] [find_element]', 0.047018), ('[end] [price] [click]', 0.545026), ('[end] [price] [clear]', 0.160774), ('[end] [price] [send_keys]', 0.621325), ('[end] [amount] [find_element]', 0.076199), ('[end] [amount] [click]', 0.612981), ('[end] [amount] [clear]', 0.035075), ('[end] [amount] [send_keys]', 0.055029)], 7: [('[end] [code] [find_element]', 0.631831), ('[end] [code] [click]', 0.078766), ('[end] [code] [clear]', 0.036106), ('[end] [code] [send_keys]', 0.650083), ('[end] [dir] [find_element]', 0.138985), ('[end] [dir] [tap]', 1.348884), ('[end] [price] [find_element]', 0.038546), ('[end] [price] [click]', 0.573703), ('[end] [price] [clear]', 0.142276), ('[end] [price] [send_keys]', 0.054029), ('[end] [amount] [find_element]', 0.620192), ('[end] [amount] [click]', 0.071116), ('[end] [amount] [clear]', 0.035545), ('[end] [amount] [send_keys]', 0.029407)], 8: [('[end] [code] [find_element]', 0.588038), ('[end] [code] [click]', 0.067248), ('[end] [code] [clear]', 0.649755), ('[end] [code] [send_keys]', 0.065266), ('[end] [dir] [find_element]', 0.123561), ('[end] [dir] [tap]', 1.356707), ('[end] [price] [find_element]', 0.049738), ('[end] [price] [click]', 0.573527), ('[end] [price] [clear]', 0.136109), ('[end] [price] [send_keys]', 0.050873), ('[end] [amount] [find_element]', 0.610736), ('[end] [amount] [click]', 0.080081), ('[end] [amount] [clear]', 0.027089), ('[end] [amount] [send_keys]', 0.034958)], 9: [('[end] [code] [find_element]', 0.579581), ('[end] [code] [click]', 0.069245), ('[end] [code] [clear]', 0.028041), ('[end] [code] [send_keys]', 0.671454), ('[end] [dir] [find_element]', 0.132072), ('[end] [dir] [tap]', 1.353642), ('[end] [price] [find_element]', 0.03911), ('[end] [price] [click]', 0.561984), ('[end] [price] [clear]', 0.146816), ('[end] [price] [send_keys]', 0.061985), ('[end] [amount] [find_element]', 0.608685), ('[end] [amount] [click]', 0.08008), ('[end] [amount] [clear]', 0.031043), ('[end] [amount] [send_keys]', 0.041541)], 10: [('[end] [code] [find_element]', 0.583359), ('[end] [code] [click]', 0.074035), ('[end] [code] [clear]', 0.659535), ('[end] [code] [send_keys]', 0.065737), ('[end] [dir] [find_element]', 0.170139), ('[end] [dir] [tap]', 1.286953), ('[end] [price] [find_element]', 0.036698), ('[end] [price] [click]', 0.569943), ('[end] [price] [clear]', 0.502128), ('[end] [price] [send_keys]', 0.049116), ('[end] [amount] [find_element]', 0.615534), ('[end] [amount] [click]', 0.072715), ('[end] [amount] [clear]', 0.026698), ('[end] [amount] [send_keys]', 0.614953)]}
remote_server_remote_app_10 = {1: [('[end] [code] [find_element]', 0.054522), ('[end] [code] [click]', 1.022508), ('[end] [code] [clear]', 0.10484), ('[end] [code] [send_keys]', 0.096078), ('[end] [dir] [find_element]', 0.865025), ('[end] [dir] [tap]', 0.715851), ('[end] [price] [find_element]', 0.46001), ('[end] [price] [click]', 1.477126), ('[end] [price] [clear]', 0.033055), ('[end] [price] [send_keys]', 0.556268), ('[end] [amount] [find_element]', 0.04788), ('[end] [amount] [click]', 0.572982), ('[end] [amount] [clear]', 0.040321), ('[end] [amount] [send_keys]', 0.038172)], 2: [('[end] [code] [find_element]', 0.050313), ('[end] [code] [click]', 1.913152), ('[end] [code] [clear]', 0.023152), ('[end] [code] [send_keys]', 0.052933), ('[end] [dir] [find_element]', 0.21359), ('[end] [dir] [tap]', 1.289358), ('[end] [price] [find_element]', 0.420393), ('[end] [price] [click]', 1.229091), ('[end] [price] [clear]', 0.02252), ('[end] [price] [send_keys]', 0.598583), ('[end] [amount] [find_element]', 0.167956), ('[end] [amount] [click]', 0.521642), ('[end] [amount] [clear]', 0.021906), ('[end] [amount] [send_keys]', 0.03481)], 3: [('[end] [code] [find_element]', 0.638596), ('[end] [code] [click]', 0.930652), ('[end] [code] [clear]', 0.0236), ('[end] [code] [send_keys]', 0.056603), ('[end] [dir] [find_element]', 1.240539), ('[end] [dir] [tap]', 0.66222), ('[end] [price] [find_element]', 0.32029), ('[end] [price] [click]', 0.562499), ('[end] [price] [clear]', 0.196635), ('[end] [price] [send_keys]', 0.096291), ('[end] [amount] [find_element]', 0.849115), ('[end] [amount] [click]', 0.053906), ('[end] [amount] [clear]', 0.027045), ('[end] [amount] [send_keys]', 0.665596)], 4: [('[end] [code] [find_element]', 0.03258), ('[end] [code] [click]', 1.041447), ('[end] [code] [clear]', 0.023553), ('[end] [code] [send_keys]', 0.077479), ('[end] [dir] [find_element]', 0.259095), ('[end] [dir] [tap]', 1.303061), ('[end] [price] [find_element]', 0.443163), ('[end] [price] [click]', 0.567209), ('[end] [price] [clear]', 0.206682), ('[end] [price] [send_keys]', 0.08583), ('[end] [amount] [find_element]', 0.632209), ('[end] [amount] [click]', 0.081129), ('[end] [amount] [clear]', 0.029525), ('[end] [amount] [send_keys]', 0.041641)], 5: [('[end] [code] [find_element]', 0.563435), ('[end] [code] [click]', 0.082572), ('[end] [code] [clear]', 0.847427), ('[end] [code] [send_keys]', 0.038552), ('[end] [dir] [find_element]', 0.381518), ('[end] [dir] [tap]', 1.137671), ('[end] [price] [find_element]', 0.289055), ('[end] [price] [click]', 1.234221), ('[end] [price] [clear]', 0.025022), ('[end] [price] [send_keys]', 0.61105), ('[end] [amount] [find_element]', 0.063284), ('[end] [amount] [click]', 0.067446), ('[end] [amount] [clear]', 0.593658), ('[end] [amount] [send_keys]', 0.032692)], 6: [('[end] [code] [find_element]', 0.027525), ('[end] [code] [click]', 0.941936), ('[end] [code] [clear]', 0.022695), ('[end] [code] [send_keys]', 0.046197), ('[end] [dir] [find_element]', 1.097869), ('[end] [dir] [tap]', 0.622881), ('[end] [price] [find_element]', 0.523474), ('[end] [price] [click]', 1.191685), ('[end] [price] [clear]', 0.019437), ('[end] [price] [send_keys]', 0.582389), ('[end] [amount] [find_element]', 0.058032), ('[end] [amount] [click]', 0.087198), ('[end] [amount] [clear]', 0.03742), ('[end] [amount] [send_keys]', 0.554108)], 7: [('[end] [code] [find_element]', 0.027521), ('[end] [code] [click]', 0.963424), ('[end] [code] [clear]', 0.029268), ('[end] [code] [send_keys]', 0.038831), ('[end] [dir] [find_element]', 1.077785), ('[end] [dir] [tap]', 0.572539), ('[end] [price] [find_element]', 0.275455), ('[end] [price] [click]', 1.209627), ('[end] [price] [clear]', 0.020144), ('[end] [price] [send_keys]', 0.575285), ('[end] [amount] [find_element]', 0.054387), ('[end] [amount] [click]', 0.568121), ('[end] [amount] [clear]', 0.036681), ('[end] [amount] [send_keys]', 0.079264)], 8: [('[end] [code] [find_element]', 0.651323), ('[end] [code] [click]', 0.875726), ('[end] [code] [clear]', 0.024547), ('[end] [code] [send_keys]', 0.05064), ('[end] [dir] [find_element]', 1.073703), ('[end] [dir] [tap]', 0.568989), ('[end] [price] [find_element]', 0.108695), ('[end] [price] [click]', 1.302835), ('[end] [price] [clear]', 0.031543), ('[end] [price] [send_keys]', 0.047713), ('[end] [amount] [find_element]', 0.135897), ('[end] [amount] [click]', 0.57647), ('[end] [amount] [clear]', 0.022659), ('[end] [amount] [send_keys]', 0.700596)], 9: [('[end] [code] [find_element]', 0.051393), ('[end] [code] [click]', 0.582869), ('[end] [code] [clear]', 0.873457), ('[end] [code] [send_keys]', 0.048546), ('[end] [dir] [find_element]', 1.025315), ('[end] [dir] [tap]', 0.592243), ('[end] [price] [find_element]', 0.167435), ('[end] [price] [click]', 0.560373), ('[end] [price] [clear]', 0.218056), ('[end] [price] [send_keys]', 0.057941), ('[end] [amount] [find_element]', 0.150047), ('[end] [amount] [click]', 0.607776), ('[end] [amount] [clear]', 0.033065), ('[end] [amount] [send_keys]', 0.028813)], 10: [('[end] [code] [find_element]', 0.682817), ('[end] [code] [click]', 0.895538), ('[end] [code] [clear]', 0.019141), ('[end] [code] [send_keys]', 0.035607), ('[end] [dir] [find_element]', 0.110983), ('[end] [dir] [tap]', 1.435042), ('[end] [price] [find_element]', 0.364071), ('[end] [price] [click]', 0.586787), ('[end] [price] [clear]', 0.148707), ('[end] [price] [send_keys]', 0.612488), ('[end] [amount] [find_element]', 0.066942), ('[end] [amount] [click]', 0.608457), ('[end] [amount] [clear]', 0.022921), ('[end] [amount] [send_keys]', 0.024505)]}


def trans_process_time(time_data, ps_type=None):
    times_all = {}
    for t, pss in time_data.items():
        p_time = {}
        for ps in pss:
            if ps[0] in p_time:
                p_time[ps[0]] += ps[1]
            else:
                p_time[ps[0]] = ps[1]
        times_all[t] = p_time
    # print(times_all)
    if not ps_type:
        process_time = {i: sum(data.values()) for i, data in times_all.items()}
    else:
        process_time = {i: sum([v for k, v in data.items() if k == ps_type]) for i, data in times_all.items()}
    return process_time


def gen_process_time(time_data, which=''):

    ps_types = [
                # '[end] [code] [find_element]',
                # '[end] [code] [click]',
                # '[end] [code] [clear]',
                # '[end] [code] [send_keys]',
                # '[end] [dir] [find_element]',
                # '[end] [dir] [tap]',
                # '[end] [price] [find_element]',
                # '[end] [price] [click]',
                # '[end] [price] [clear]',
                # '[end] [price] [send_keys]',
                # '[end] [amount] [find_element]',
                # '[end] [amount] [click]',
                # '[end] [amount] [clear]',
                # '[end] [amount] [send_keys]'
                ]
    log_detail = True
    for ps_type in ps_types:
        data = trans_process_time(time_data, ps_type=ps_type)
        avg_time = sum(data.values()) / len(data)
        if log_detail:
            print(f'{which}_{ps_type}_avg_time: {avg_time}, {data}\n')
        else:
            print(f'{which}_{ps_type}_avg_time: {avg_time}')
    data = trans_process_time(time_data)
    avg_time = sum(data.values()) / len(data)
    if log_detail:
        print(f'{which}_all_avg_time: {avg_time},   {data}\n\n')
    else:
        print(f'{which}_all_avg_time: {avg_time}\n\n')


gen_process_time(local_server_local_app_10, 'local_server_local_app_10')
gen_process_time(remote_server_remote_app_10, 'remote_server_remote_app_10')

